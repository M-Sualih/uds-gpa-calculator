<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>UDS Manual GPA & CGPA Calculator</title>

  <!-- ‚úÖ Favicon -->
  <link rel="icon" type="image/png" href="assets/logo.png">

  <!-- ‚úÖ Meta tags for SEO -->
  <meta name="description" content="UDS Manual GPA & CGPA Calculator for Undergraduate and Postgraduate students.">
  <meta name="keywords" content="UDS, GPA, CGPA, Calculator, University for Development Studies">
  <meta name="author" content="Sualihu Mohammed">

  <style>
  body {
    font-family: 'Segoe UI', sans-serif;
    padding: 20px;
    background: #70c59194;
    color: #003300;
  }
  h1, h2 { color: #006400; }
  select, input, button {
    padding: 6px 8px;
    margin: 4px;
    border-radius: 4px;
    border: 1px solid #ccc;
    font-size: 13px;
  }
  button {
    background-color: #006400;
    color: white;
    border: none;
    cursor: pointer;
  }
  button:hover { background-color: #004d00; }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 15px;
    background: #fff;
    font-size: 13px;
    box-shadow: 0 0 3px rgba(0,0,0,0.1);
  }
  th {
    background: #006400;
    color: #fff;
    padding: 2px;
  }
  td {
    padding: 2px;
    text-align: center;
    border-bottom: 1px solid #ddd;
  }
  .grade-display {
    font-weight: bold;
  }
  .results {
    background: #d4f5e4;
    border-left: 5px solid #006400;
    padding: 15px;
    margin-top: 15px;
    border-radius: 4px;
    font-size: 14px;
  }
  .hidden { display: none; }
  .highlight { font-weight: bold; }
  .warning { color: red; font-weight: bold; }
  .header-container {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-bottom: 15px;
    width: 100%;
  }
  .help-button {
    padding: 5px 10px;
    font-size: 13px;
  }
  footer {
    text-align: center;
    margin-top: 20px;
    padding: 8px;
    font-size: 13px;
    color: #006400;
  }
  .modal {
    display: none;
    position: fixed;
    z-index: 1;
    left: 0; top: 0;
    width: 100%; height: 100%;
    background: rgba(0,0,0,0.4);
  }
  .modal-content {
    background: #f8fff8;
    margin: 5% auto;
    padding: 15px;
    border: 1px solid #006400;
    width: 90%;
    max-width: 600px;
    border-radius: 5px;
    overflow-y: auto;
    max-height: 80vh;
    font-size: 14px;
  }
  .close {
    float: right;
    font-size: 22px;
    cursor: pointer;
    color: #006400;
  }
  .close:hover { color: #004d00; }
  @media(max-width:768px) {
    body { padding: 10px; }
    table { font-size: 12px; }
  }
  .mode-button {
    margin-left: 10px;
    background-color: #4a6741;
  }
  .mode-button.active {
    background-color: #8b0000;
  }
  .h1 {
    color: #006400;
    margin: 20px 0;
    text-align: center;
    width: 100%;
  }
</style>
</head>
<body>
  <div class="header-container">
    <h1>WELCOME TO UDS MANUAL GPA & CGPA Calculator</h1>
    <img src="assets/logo.png" height="150" alt="UDS logo" style="margin-right: 0px;">
    <div>
      <button class="help-button" onclick="openHelp()">Help</button>
      <button id="postgraduateMode" class="mode-button" onclick="togglePostgraduateMode()">Postgraduate Mode</button>
    </div>
  </div>

  <label><b>Select Mode:</b></label>
  <select id="calcMode" onchange="toggleMode()">
    <option value="gpa">GPA (Current Trimester)</option>
    <option value="cgpa">CGPA (Cumulative)</option>
  </select>

  <div id="gpaSection">
    <button onclick="addGpaTable()">Add New GPA Table</button>
    <div id="tablesContainer"></div>
    <button id="calcCGPAButton" class="hidden" onclick="calculateAllCGPA()">Calculate CGPA</button>
  </div>

  <div id="cgpaSection" class="hidden">
    <h2>Enter Previous Trimester GPAs</h2>
    <table id="cgpaTable">
      <thead>
        <tr>
          <th>Trimester</th><th>GPA</th><th>Credit Hours</th><th>Action</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><input type="text" placeholder="e.g. L100 T1"/></td>
          <td><input type="number" min="0" max="5" step="0.01" placeholder="0.0 to 5.0"/></td>
          <td><input type="number" min="6" max="28" placeholder="6 to 28"/></td>
          <td><button onclick="removeRow(this)">Remove</button></td>
        </tr>
      </tbody>
    </table>
    <button onclick="addCGPARow()">Add Trimester</button>
    <button onclick="calculateManualCGPA()">Calculate CGPA</button>
  </div>

  <div id="results" class="results"></div>

  <footer>&copy; 2025 | Designed by <b>Sualihu Mohammed</b> |<br>  sualihumohammed10@gmail.com</footer>

 <!-- HELP MODAL -->
  <div id="helpModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeHelp()">&times;</span>
      <h2>UDS GPA & CGPA Calculator - Complete User Guide</h2>
      <p>This system calculates your <strong>Grade Point Average(GPA)</strong> for a trimester and <strong>Cumulative Grade Point Average(CGPA)</strong> for cumulative trimesters.<br><br>
     <strong>NOTE:</strong> The grading system used in this system is in accordance with both <b>Undergraduate</b> and <b>Postgraduate Handbooks</b> of the University For Development Studies (UDS). 
      </p>
      <h4>Always check mode before using.</h4>
      <h3>üìå GPA Calculation</h3>
      <ol>
        <li>Select GPA mode.</li>
        <li>Click "Add New GPA Table" to add a trimester.</li>
        <li>Click "Add Course" to add courses to each table.</li>
        <li>Enter <b>Course Name</b>, <b>Credit Hours (0‚Äì6)</b>, <b>Score (0‚Äì100)</b>. The grade updates automatically.</li>
        <li>Click "Calculate GPA" in that table to see Total Grade Point (TGP), Total Credit Unit (TCU), Grade Point Average (GPA), and failed courses warning.</li>
        <li>When tables are more than one, a <strong>Calculate CGPA</strong> button will appear below the the last table, which calculates the CGPA of all the tables</li>
      </ol>
      <h3>üìå CGPA Calculation</h3>
      <ol>
        <li>Switch to CGPA mode, add trimesters manually, enter GPA (0‚Äì5.0) and credit hours (6‚Äì28).</li>
        <li>Click "Calculate CGPA" to get Total Grade Point (TGP), Total Credit Unit (TCU), CGPA, and classification.</li>
      </ol>
      <h3>‚öôÔ∏è Grading Scale</h3>
      <h5>For Undergraduates</h5>
      <table border="1" cellpadding="5">
        <tr><th>Score</th><th>Grade</th><th>Point</th></tr>
        <tr><td>80‚Äì100</td><td>A+</td><td>5.0</td></tr>
        <tr><td>70‚Äì79</td><td>A</td><td>4.5</td></tr>
        <tr><td>65‚Äì69</td><td>B+</td><td>4.0</td></tr>
        <tr><td>60‚Äì64</td><td>B</td><td>3.5</td></tr>
        <tr><td>55‚Äì59</td><td>C+</td><td>3.0</td></tr>
        <tr><td>50‚Äì54</td><td>C</td><td>2.5</td></tr>
        <tr><td>45‚Äì49</td><td>D+</td><td>2.0</td></tr>
        <tr><td>40‚Äì44</td><td>D</td><td>1.5</td></tr>
        <tr><td>0‚Äì39</td><td>F</td><td>0.0</td></tr>
      </table>
      <h5>For Postgraduate</h5>
      <table border="1" cellpadding="5">
        <tr><th>Score</th><th>Grade</th><th>Point</th></tr>
        <tr><td>80‚Äì100</td><td>A+</td><td>5.0</td></tr>
        <tr><td>70‚Äì79</td><td>A</td><td>4.5</td></tr>
        <tr><td>65‚Äì69</td><td>B+</td><td>4.0</td></tr>
        <tr><td>60‚Äì64</td><td>B</td><td>3.5</td></tr>
        <tr><td>0-59</td><td>F</td><td>0.0</td></tr>
      </table>
      <h3 id="postgraduateScaleHeader" class="hidden">‚öôÔ∏è Postgraduate Grading Scale</h3>
      <table id="postgraduateScale" border="1" cellpadding="5" class="hidden">
        <tr><th>Score</th><th>Grade</th><th>Point</th></tr>
        <tr><td>80‚Äì100</td><td>A+</td><td>5.0</td></tr>
        <tr><td>70‚Äì79</td><td>A</td><td>4.5</td></tr>
        <tr><td>65‚Äì69</td><td>B+</td><td>4.0</td></tr>
        <tr><td>60‚Äì64</td><td>B</td><td>3.5</td></tr>
        <tr><td>Below 60</td><td>F</td><td>0.0</td></tr>
      </table>
      <h3>üí° Notes</h3>
      <ul>
        <li>Always enter valid scores (0‚Äì100) and credit hours (0‚Äì6 for GPA, 6‚Äì28 for CGPA).</li>
        <li>Failed courses show in red below GPA results.</li>
        <li>CGPA classification only appears for cumulative calculation.</li>
        <li>Click <strong>"Postgraduate Mode"</strong> to switch to postgraduate grading scale. And when postgraduate mode is on, the he postgraduate mode button will turn <b>Red</b></li>
      </ul>
    </div>
  </div>

  <script>
    let tableCount = 0;
    let isPostgraduateMode = localStorage.getItem('postgraduateMode') === 'true';

    document.addEventListener('DOMContentLoaded', function() {
      updatePostgraduateButton();
    });

    function togglePostgraduateMode() {
      isPostgraduateMode = !isPostgraduateMode;
      localStorage.setItem('postgraduateMode', isPostgraduateMode);
      updatePostgraduateButton();
      location.reload();
    }

    function updatePostgraduateButton() {
      const btn = document.getElementById("postgraduateMode");
      if (isPostgraduateMode) {
        btn.classList.add("active");
        btn.textContent = "Postgraduate Mode (ON)";
      } else {
        btn.classList.remove("active");
        btn.textContent = "Postgraduate Mode";
      }
    }

    function toggleMode() {
      const mode = document.getElementById("calcMode").value;
      document.getElementById("gpaSection").classList.toggle("hidden", mode !== "gpa");
      document.getElementById("cgpaSection").classList.toggle("hidden", mode !== "cgpa");
      document.getElementById("results").innerHTML = "";
    }

    function addGpaTable() {
      tableCount++;
      const container = document.getElementById("tablesContainer");
      const div = document.createElement("div");
      div.id = `table${tableCount}`;
      div.innerHTML = `
        <h2>Trimester ${tableCount}</h2>
        <table>
          <thead>
            <tr><th>Course</th><th>Credit Hours</th><th>Score</th><th>Grade</th><th>Action</th></tr>
          </thead>
          <tbody>
            <tr>
              <td><input type="text" placeholder="eg. GEN 102"/></td>
              <td><input type="number" min="0" max="6" placeholder="0 to 6"/></td>
              <td><input type="number" min="0" max="100" onchange="updateGrade(this)" placeholder="0 to 100"/></td>
              <td><span class="grade-display">-</span></td>
              <td><button onclick="removeRow(this)">Remove</button></td>
            </tr>
          </tbody>
        </table>
        <button onclick="addRow(this)">Add Course</button>
        <button onclick="calcGpaTable(this)">Calculate GPA</button>
        <button onclick="removeTable(this)">Delete Table</button>
        <div class="gpa-result"></div>
      `;
      container.appendChild(div);
      if (tableCount > 1) {
        document.getElementById("calcCGPAButton").classList.remove("hidden");
      }
    }

    function addRow(btn) {
      const tbody = btn.parentNode.querySelector("tbody");
      const row = tbody.rows[0].cloneNode(true);
      row.querySelectorAll("input").forEach(i => i.value = "");
      row.querySelector(".grade-display").textContent = "-";
      tbody.appendChild(row);
    }

    function removeRow(btn) {
      const tbody = btn.parentNode.parentNode.parentNode;
      if (tbody.rows.length > 1) {
        btn.parentNode.parentNode.remove();
      } else {
        alert("At least one course is required.");
      }
    }

    function removeTable(btn) {
      btn.parentNode.remove();
      tableCount--;
      if (tableCount < 2) {
        document.getElementById("calcCGPAButton").classList.add("hidden");
      }
    }

    function updateGrade(input) {
      const score = parseFloat(input.value);
      const gradeSpan = input.parentNode.parentNode.querySelector(".grade-display");
      const point = scoreToPoint(score);
      if (!isNaN(score)) {
        gradeSpan.textContent = point.grade;
        gradeSpan.style.color = point.point < (isPostgraduateMode ? 3.5 : 1.5) ? "red" : "green";
      } else {
        gradeSpan.textContent = "-";
      }
    }

    function scoreToPoint(score) {
      if (isPostgraduateMode) {
        if (score >= 80) return {grade:'A+', point:5.0};
        if (score >= 70) return {grade:'A', point:4.5};
        if (score >= 65) return {grade:'B+', point:4.0};
        if (score >= 60) return {grade:'B', point:3.5};
        return {grade:'F', point:0.0};
      } else {
        if (score >= 80) return {grade:'A+', point:5.0};
        if (score >= 70) return {grade:'A', point:4.5};
        if (score >= 65) return {grade:'B+', point:4.0};
        if (score >= 60) return {grade:'B', point:3.5};
        if (score >= 55) return {grade:'C+', point:3.0};
        if (score >= 50) return {grade:'C', point:2.5};
        if (score >= 45) return {grade:'D+', point:2.0};
        if (score >= 40) return {grade:'D', point:1.5};
        return {grade:'F', point:0.0};
      }
    }

    function calcGpaTable(btn) {
      const parent = btn.parentNode;
      const tbody = parent.querySelector("tbody");
      let tgp = 0, tcu = 0, failed = [];
      for (let row of tbody.rows) {
        const course = row.cells[0].querySelector("input").value;
        const credit = parseFloat(row.cells[1].querySelector("input").value);
        const score = parseFloat(row.cells[2].querySelector("input").value);
        if (!course || isNaN(credit) || isNaN(score) || credit < 0 || credit > 6 || score < 0 || score > 100) {
          alert("Check your inputs: Course name, credits 0‚Äì6, score 0‚Äì100");
          return;
        }
        const point = scoreToPoint(score).point;
        if (point < (isPostgraduateMode ? 3.5 : 1.5)) failed.push(course);
        tgp += credit * point;
        tcu += credit;
      }
      const gpa = (tgp/tcu).toFixed(2);
      let msg = `<h3>GPA RESULTS:</h3> <p><b>Total Grade Point (TGP):</b> ${tgp.toFixed(2)}<br> <b>Total Credit Unit (TCU):</b> ${tcu} <br><b>GPA:</b> ${gpa}</p>`;
      if (failed.length) msg += `<p class="warning">Failed courses: ${failed.join(", ")}</p>`;
      parent.querySelector(".gpa-result").innerHTML = msg;
    }

    function calculateAllCGPA() {
      let totalTgp = 0, totalTcu = 0;
      const container = document.getElementById("tablesContainer");
      container.querySelectorAll("tbody").forEach(tbody => {
        for (let row of tbody.rows) {
          const credit = parseFloat(row.cells[1].querySelector("input").value);
          const score = parseFloat(row.cells[2].querySelector("input").value);
          const point = scoreToPoint(score).point;
          totalTgp += credit * point;
          totalTcu += credit;
        }
      });
      const cgpa = (totalTgp/totalTcu).toFixed(2);
      document.getElementById("results").innerHTML =
        `<h3>CGPA RESULTS:</h3><p><b>Total Grade Point (TGP):</b> ${totalTgp.toFixed(2)}<br>` +
        `<b>Total Credit Unit (TCU):</b> ${totalTcu}<br>` +
        `<b>CGPA:</b> ${cgpa}` +
        (isPostgraduateMode ? "" : ` <br> <b>Classification:</b> ${getClass(cgpa)}`) +
        `</p>`;
    }

    function getClass(score) {
      score = parseFloat(score);
      if (score >= 4.5) return "First Class Honours";
      if (score >= 3.5) return "Second Class Honour (Upper Division)";
      if (score >= 2.5) return "Second Honour (Lower Division)";
      if (score >= 2.0) return "Third Class";
      if (score >= 1.5) return "Pass";
      return "Fail";
    }

    function addCGPARow() {
      const tbody = document.getElementById("cgpaTable").querySelector("tbody");
      const newRow = tbody.rows[0].cloneNode(true);
      newRow.querySelectorAll("input").forEach(i => i.value = "");
      tbody.appendChild(newRow);
    }

    function calculateManualCGPA() {
      const tbody = document.getElementById("cgpaTable").querySelector("tbody");
      let tgp = 0, tcu = 0;
      for (let row of tbody.rows) {
        const gpa = parseFloat(row.cells[1].querySelector("input").value);
        const credit = parseFloat(row.cells[2].querySelector("input").value);
        if (isNaN(gpa) || gpa < 0 || gpa > 5 || isNaN(credit) || credit < 6 || credit > 28) {
          alert("Check GPA 0‚Äì5 and credit 6‚Äì28");
          return;
        }
        tgp += gpa * credit;
        tcu += credit;
      }
      const cgpa = (tgp/tcu).toFixed(2);
      document.getElementById("results").innerHTML =
        `<h3>CGPA RESULTS:</h3><p><b>Total Grade Point (TGP):</b> ${tgp.toFixed(2)}<br>` +
        `<b>Total Credit Unit (TCU):</b> ${tcu}<br>` +
        `<b>CGPA:</b> ${cgpa}` +
        (isPostgraduateMode ? "" : ` <br> <b>Classification:</b> ${getClass(cgpa)}`) +
        `</p>`;
    }

    function openHelp() {
      document.getElementById("helpModal").style.display = "block";
    }
    function closeHelp() {
      document.getElementById("helpModal").style.display = "none";
    }
    window.onclick = e => { if (e.target == document.getElementById("helpModal")) closeHelp(); }
  </script>
</body>
</html>